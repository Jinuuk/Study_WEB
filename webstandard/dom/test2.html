<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>라디오 버튼</title>
  <style>
    /* * {
      outline : 1px solid green;
    } */
    #check {
      background-color: yellow;
    }

    #re-trial {
      background-color: yellow;
    }

    .right {
      background-color: green;
    }

    .wrong {
      background-color: red;
    }
  </style>
</head>

<body>
  <fieldset>
    <legend>사칙연산</legend>
    <input id="v1" type="radio" name="chk" value="+"><label for="v1">덧셈</label>
    <input id="v2" type="radio" name="chk" value="-"><label for="v2">뺄셈</label>
    <input id="v3" type="radio" name="chk" value="*"><label for="v3">곱셈</label>
    <input id="v4" type="radio" name="chk" value="/"><label for="v4">나눗셈</label>
  </fieldset>

  <input type="text" id="random1" value="">
  <span id="sign">?</span>
  <input type="text" id="random2" value="">
  <span>=</span>
  <input type="text" id="answer" value="">

  <button id="check">정답 확인</button>
  <button id="re-trial">다시 풀기</button>
</body>

<script>
  // 난수 발생
  let $random1 = document.getElementById('random1');
  let $random2 = document.getElementById('random2');
  $random1.value = Math.floor(Math.random() * 1000 + 1);
  $random2.value = Math.floor(Math.random() * 1000 + 1);

  //라디오 버튼 선택 시 연산 기호 변경
  let $v1 = document.getElementById('v1');
  let $v2 = document.getElementById('v2');
  let $v3 = document.getElementById('v3');
  let $v4 = document.getElementById('v4');

  // 답 작성
  let $answer = document.getElementById('answer');

  //덧셈
  $v1.addEventListener('click', function () {
    console.log('덧셈 선택');
    console.log(parseInt($random1.value) + parseInt($random2.value));
    document.getElementById('sign').innerText = $v1.value;
    let $check = document.getElementById('check');
    $check.addEventListener('click', function () {
      if ($answer.value == "") {
        console.log('정답을 입력해주세요.');
        window.alert('정답을 입력해주세요.');
      } else {
        if (parseInt($random1.value) + parseInt($random2.value) == $answer.value) {
          console.log('정답입니다.');
          $answer.classList.remove("wrong");
          $answer.classList.add("right");
        }
        else {
          console.log('오답입니다.');
          $answer.classList.add("wrong");
          $answer.classList.remove("right");
        }
      }
    })
  })

  //뺄셈
  $v2.addEventListener('click', function () {
    console.log('뺄셈 선택');
    console.log(parseInt($random1.value) - parseInt($random2.value));
    document.getElementById('sign').innerText = $v2.value;
    let $check = document.getElementById('check');
    $check.addEventListener('click', function () {
      if ($answer.value == "") {
        console.log('정답을 입력해주세요.');
        window.alert('정답을 입력해주세요.');
      } else {
        if (parseInt($random1.value) - parseInt($random2.value) == $answer.value) {
          console.log('정답입니다.');
          $answer.classList.remove("wrong");
          $answer.classList.add("right");
        }
        else {
          console.log('오답입니다.');
          $answer.classList.add("wrong");
          $answer.classList.remove("right");
        }
      }
    })
  })

  //곱셈
  $v3.addEventListener('click', function () {
    console.log('곱셈 선택');
    console.log(parseInt($random1.value) * parseInt($random2.value));
    document.getElementById('sign').innerText = $v3.value;
    let $check = document.getElementById('check');
    $check.addEventListener('click', function () {
      if ($answer.value == "") {
        console.log('정답을 입력해주세요.');
        window.alert('정답을 입력해주세요.');
      } else {
        if (parseInt($random1.value) * parseInt($random2.value) == $answer.value) {
          console.log('정답입니다.');
          $answer.classList.remove("wrong");
          $answer.classList.add("right");
        }
        else {
          console.log('오답입니다.');
          $answer.classList.add("wrong");
          $answer.classList.remove("right");
        }
      }
    })
  })

  //나눗셈
  $v4.addEventListener('click', function () {
    console.log('나눗셈 선택');
    console.log(Math.round(parseInt($random1.value) / parseInt($random2.value) * 100) / 100);
    document.getElementById('sign').innerText = $v4.value;
    let $check = document.getElementById('check');
    $check.addEventListener('click', function () {
      if ($answer.value == "") {
        console.log('정답을 입력해주세요.');
        window.alert('정답을 입력해주세요.');
      } else {
        if (Math.round(parseInt($random1.value) / parseInt($random2.value) * 100) / 100 == $answer.value) {
          console.log('정답입니다.');
          $answer.classList.remove("wrong");
          $answer.classList.add("right");
        }
        else {
          console.log('오답입니다.');
          $answer.classList.add("wrong");
          $answer.classList.remove("right");
        }
      }
    })
  })

  //다시 풀기
  let $retrial = document.getElementById('re-trial');
  $retrial.addEventListener('click', function () {
    console.log('초기화');
    $random1.value = Math.floor(Math.random() * 1000 + 1);
    $random2.value = Math.floor(Math.random() * 1000 + 1);
    $answer.value = null;
    $answer.classList.remove('wrong');
    $answer.classList.remove('right');
  })

</script>

</html>